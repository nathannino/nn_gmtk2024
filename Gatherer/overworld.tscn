[gd_scene load_steps=8 format=3 uid="uid://drtx2pscupfyt"]

[ext_resource type="PackedScene" uid="uid://bsofnje4va3y7" path="res://Gatherer/overworld_pl.tscn" id="1_ntfwl"]
[ext_resource type="PackedScene" uid="uid://cvd68b2ucpljs" path="res://Gatherer/resources/tree.tscn" id="2_r0dma"]
[ext_resource type="Texture2D" uid="uid://0svk2hx4304v" path="res://pixelmora/sign.png" id="3_aq0ha"]
[ext_resource type="Texture2D" uid="uid://jmxkc475n5a" path="res://pixelmora/crafter.png" id="4_xn2bc"]

[sub_resource type="GDScript" id="GDScript_6abjk"]
resource_name = "overworldwow"
script/source = "extends Node2D

@export var player : CharacterBody2D
@export var camera : Camera2D

func disable_camera() :
	camera.enabled = false
	pass

func enable_camera() :
	camera.enabled = true
	pass

func reset_player_pos() :
	player.position = Vector2.ZERO

var inside_crafter_radius = false
# I forgot to rename it =/
func _on_area_2d_body_entered(body):
	if body is CharacterBody2D :
		inside_crafter_radius = true

# I forgot to rename it
func _on_area_2d_body_exited(body):
	if body is CharacterBody2D :
		inside_crafter_radius = false
"

[sub_resource type="CircleShape2D" id="CircleShape2D_oa2nw"]
radius = 23.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hwtxi"]
size = Vector2(14, 13)

[node name="overworld" type="Node2D" node_paths=PackedStringArray("player", "camera")]
script = SubResource("GDScript_6abjk")
player = NodePath("PlayerOrigin/overworld_pl")
camera = NodePath("PlayerOrigin/overworld_pl/Camera2D")

[node name="Tree" parent="." instance=ExtResource("2_r0dma")]
position = Vector2(-71, -8)

[node name="Tree2" parent="." instance=ExtResource("2_r0dma")]
position = Vector2(-183, 18)

[node name="Tree3" parent="." instance=ExtResource("2_r0dma")]
position = Vector2(-134, 76)

[node name="Sign" type="Sprite2D" parent="."]
position = Vector2(-18, -15)
texture = ExtResource("3_aq0ha")

[node name="Area2D" type="Area2D" parent="."]
position = Vector2(-45, 56)
collision_layer = 4
collision_mask = 4

[node name="Crafter" type="Sprite2D" parent="Area2D"]
texture = ExtResource("4_xn2bc")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
shape = SubResource("CircleShape2D_oa2nw")

[node name="StaticBody2D" type="StaticBody2D" parent="Area2D"]
collision_layer = 4
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D/StaticBody2D"]
position = Vector2(0, -0.5)
shape = SubResource("RectangleShape2D_hwtxi")

[node name="PlayerOrigin" type="Node2D" parent="."]
position = Vector2(-14, 28)

[node name="overworld_pl" parent="PlayerOrigin" instance=ExtResource("1_ntfwl")]

[node name="Camera2D" type="Camera2D" parent="PlayerOrigin/overworld_pl"]
limit_right = 0
drag_horizontal_enabled = true
drag_vertical_enabled = true

[connection signal="body_entered" from="Area2D" to="." method="_on_area_2d_body_entered"]
[connection signal="body_exited" from="Area2D" to="." method="_on_area_2d_body_exited"]
